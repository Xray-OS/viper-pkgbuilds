pkgname=tolitica
_pkgname=tolitica-assistant
pkgver=1
pkgrel=9
pkgdesc="Tolitica Xray_OS Assistant"
arch=('x86_64')
url="https://gitlab.com/ada-os/$_pkgname"
license=('Ada EULA')
makedepends=('git')
depends=()
provides=("${pkgname}")
options=(!strip !emptydirs)
source=("${pkgname}::git+https://gitlab.com/ada-os/${_pkgname}")
sha256sums=('SKIP')
install=tolitica.install # Reference for the install script

package() {
  _destname1="$pkgdir/etc"
  _destname2="$pkgdir/opt"
  _destname3="$pkgdir/usr"

  install -dm755 "$_destname1/skel/.config/autostart"
  install -dm755 "$_destname2"
  install -dm755 "$_destname3"

  cp -r "$srcdir/$pkgname/etc/"* "$_destname1"
  cp -r "$srcdir/$pkgname/opt/"* "$_destname2"
  cp -r "$srcdir/$pkgname/usr/"* "$_destname3"

  install -Dm644 "$srcdir/$pkgname/etc/skel/.config/autostart/tolitica.desktop" \
        "$pkgdir/etc/skel/.config/autostart/tolitica.desktop"
}
